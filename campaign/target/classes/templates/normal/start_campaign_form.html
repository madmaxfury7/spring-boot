<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org" th:replace="normal/base::layout(~{::section})">
<head>
<meta charset="UTF-8">
<title>Campaign Management System</title>
</head>
<body>
	<section>
		<div class="card1 mr-3 ml-3 mb-3">
		
			<div class="card1-body">
			
				<h1 class="text-center">Start New Campaign</h1>
				
				<div class="container">
				
					<div th:if="${session.message}" th:classappend="${session.message.type}" class="alert" role="alert">
						<p class="text-center" th:text="${session.message.content}"></p>
						<th:block th:text="${#session.removeAttribute('message')}"></th:block>
					</div>
				
				</div>
				
				<div class="container-fluid mt-1">
				
					<div class="row">
					
						<div class="col-md-10 offset-md-1">
						
							<form
								novalidate 
								action="#"
								th:object="${campaign}"
								enctype="multipart/form-data"
								method="POST"
								th:action="@{/user/process-campaign}"
								class="mt-2"
							>
							
							<!-- Title of campaign field-->
							<div class="input-group">
							
								<div class="input-group-prepend">
									
									<div class="input-group-text mr-1">
									
										<i class="fa fa-plus"></i>
									
									</div>
									
								</div>
								
								<input 
								type="text" 
								id="title" 
								name="title" 
								placeholder="Enter Title of Campaign" 
								class="form-control"
								th:classappend="${#fields.hasErrors('title')? 'is-invalid':''}"
								required
								th:value="${campaign.title}"
								/>
								
								<div class="invalid-feedback" th:each="e:${#fields.errors('title')}" th:text="${e}">
							     
							     </div>
							
							</div>
							
							<!-- Campaign Startdate field-->
							<div class="input-group mt-3">
							
								<div class="input-group-prepend">
									
									<div class="input-group-text mr-1">
									
										<i class="fas fa-calendar-day"></i>
									
									</div>
									
								</div>
								
								<input 
								type="text" 
								id="startdate" 
								name="startdate" 
								placeholder="Enter Campaign Starting Date" 
								class="form-control"
								th:classappend="${#fields.hasErrors('startdate')? 'is-invalid':''}"
								required
								th:value="${campaign.startdate}"
								/>
								
								<div class="invalid-feedback" th:each="e:${#fields.errors('startdate')}" th:text="${e}">
							     
							     </div>
								
							
							</div>
							
							<!-- Expected Deadline field-->
							<div class="input-group mt-3">
							
								<div class="input-group-prepend">
									
									<div class="input-group-text mr-1">
									
										<i class="fas fa-calendar-day"></i>
									
									</div>
									
								</div>
								
								<input 
								type="text" 
								id="deadline" 
								name="deadline" 
								placeholder="Enter expected deadline of campaign(May leave blank)" 
								class="form-control"
								th:classappend="${#fields.hasErrors('deadline')? 'is-invalid':''}"
								required
								th:value="${campaign.deadline}"
								/>
								
								<div class="invalid-feedback" th:each="e:${#fields.errors('deadline')}" th:text="${e}">
							     
							     </div>
								
							
							</div>
							
							<!-- Campaign status field-->
							<div class="input-group mt-3">
							
								<div class="input-group-prepend">
									
									<div class="input-group-text mr-1">
									
										<i class="fas fa-hourglass-half"></i>
									
									</div>
									
								</div>
								
								<input 
								type="text" 
								id="status" 
								name="status" 
								placeholder="Enter Initial status of campaign" 
								class="form-control"
								th:classappend="${#fields.hasErrors('status')? 'is-invalid':''}"
								required
								th:value="${campaign.status}"
								/>
								
								<div class="invalid-feedback" th:each="e:${#fields.errors('status')}" th:text="${e}">
							     
							     </div>
								
							</div>
							
							<!-- Campaign Description field -->
							<div class="form-group mt-3">
								<textarea 
								id="mytextarea"
								name="description"
								th:text="${campaign.description}"
								placeholder="Enter Campaign Description" 
								rows="12" 
								class="form-control"
								></textarea>
							</div>
							
							<!-- Campaign Image Field -->
							
							<div class="custom-file">
							
								<input type="file" name="profileimage"/>
							</div>
							
							<div class="container1 text-center mt-3 mb-3">
								 
								<button class="btn">Start Campaign</button>
							
							</div>
							
							</form>
						
						</div>
					
					</div>
				
				</div>
			
			</div>
		
		</div>
		
		<script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
		<script>
      tinymce.init({
        selector: '#mytextarea'
      });
    </script>
	</section>
</body>
</html>